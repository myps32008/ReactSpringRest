{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\Working\\\\ReactSpringRest\\\\ClientApp\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"antd/dist/antd.less\";\nimport 'antd/dist/antd.css';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from 'react-redux';\nimport LoginForm from './features/login/login';\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: LoginForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RouteAuthen, {\n          children: /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_c = App;\n\nfunction RouteAuthen({\n  children,\n  ...rest\n}) {\n  _s();\n\n  const userStatus = useSelector(state => state.userInfo);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => userStatus.loginStatus ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RouteAuthen, \"OaVgnp07WVVEM+IRG0COnkC5LEo=\", false, function () {\n  return [useSelector];\n});\n\n_c2 = RouteAuthen;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"RouteAuthen\");","map":{"version":3,"sources":["D:/Working/ReactSpringRest/ClientApp/src/App.tsx"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","useSelector","LoginForm","App","RouteAuthen","children","rest","userStatus","state","userInfo","location","loginStatus","pathname","from"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,OAAO,oBAAP;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,QAJF,QAKO,kBALP;AAMA,SAASC,WAAT,QAAyC,aAAzC;AAEA,OAAOC,SAAP,MAAsB,wBAAtB;;AAGA,SAASC,GAAT,GAAe;AACb,sBACE;AAAA,2BACI,QAAC,MAAD;AAAA,6BACE,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,SAAS,EAAED;AAAhC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,WAAD;AAAA,iCACE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADJ,mBADF;AAYD;;KAbQC,G;;AAeT,SAASC,WAAT,CAAqB;AAACC,EAAAA,QAAD;AAAW,KAAGC;AAAd,CAArB,EAA8C;AAAA;;AAC5C,QAAMC,UAAU,GAAGN,WAAW,CAAEO,KAAD,IAAqBA,KAAK,CAACC,QAA5B,CAA9B;AACA,sBACE,QAAC,KAAD,OACMH,IADN;AAEE,IAAA,MAAM,EAEF,CAAC;AAAEI,MAAAA;AAAF,KAAD,KACEH,UAAU,CAACI,WAAX,GAA0BN,QAA1B,gBACE,QAAC,QAAD;AACE,MAAA,EAAE,EAAE;AACFO,QAAAA,QAAQ,EAAE,QADR;AAEFJ,QAAAA,KAAK,EAAE;AAAEK,UAAAA,IAAI,EAAEH;AAAR;AAFL;AADN;AAAA;AAAA;AAAA;AAAA;AANV;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GAnBQN,W;UACYH,W;;;MADZG,W;AAoBT,eAAeD,GAAf","sourcesContent":["import React from 'react';\r\nimport \"antd/dist/antd.less\";\r\nimport 'antd/dist/antd.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,  \r\n  Redirect, \r\n} from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { IAppStore } from './const/interface';\r\nimport LoginForm from './features/login/login';\r\nimport Cookies from 'universal-cookie';\r\n\r\nfunction App() {\r\n  return (\r\n    <>      \r\n        <Router>        \r\n          <Switch>        \r\n            <Route path=\"/login\" component={LoginForm}/>            \r\n            <RouteAuthen>\r\n              <Route path=\"/\"/>\r\n            </RouteAuthen>\r\n          </Switch>          \r\n        </Router>\r\n    </>    \r\n  );\r\n}\r\n\r\nfunction RouteAuthen({children, ...rest}:any) {  \r\n  const userStatus = useSelector((state:IAppStore) => state.userInfo);     \r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render=\r\n        {\r\n          ({ location }) =>\r\n            userStatus.loginStatus ? (children) : (\r\n              <Redirect\r\n                to={{\r\n                  pathname: \"/login\",\r\n                  state: { from: location }\r\n                }}\r\n              />\r\n            )\r\n        }\r\n    />\r\n  );\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}